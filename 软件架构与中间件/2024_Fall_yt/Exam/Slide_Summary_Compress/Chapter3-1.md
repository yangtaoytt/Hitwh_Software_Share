# Chapter3-1

### 1. 计算复杂性的表现

(1)高性能 (2)高扩展 (3)高可用

### 2. 传统垂直结构改造的核心

传统垂直架构改造的核心就是要对应用进行服务化，服务化改造使用到的核心技术就是分布式服务框架.

### 3. 从集中到分布式依旧存在的问题

(1)系统开发维护成本高，部署效率低，应用数量膨胀，数据库连接数持续变高. (2)代码复用难，导致开发、测试、维护等工作烦、难、杂. (3)难以适应敏捷持续交付的挑战.

### 4. 大规模系统架构设计的一般原则

大规模系统架构的设计一般原则就是尽可能地拆分，以达到更好的独立扩展与伸缩、更灵活的部署、更好的隔离和容错、更高的开发效率.

### 5. 业务纵向拆分方法

按业务进行梳理，根据业务的特性把应用拆开，不同的业务模块独立部署.

### 6. 业务横向拆分方法

将核心的、公共的业务拆分出来，通过分布式服务框架对业务进行服务化，消费者通过标准的契约来消费这些服务。服务提供者独立打包、部署和演进，与消费者解藕.

### 7. 服务治理的目标

有效管控服务，提升服务运行质量，防止业务服务代码架构腐化.

### 8. 服务治理解决的主要问题

(1)**生命周期的管理**：服务上线随意，线上服务鱼龙混杂，上线容易下线难。需要规范化上线审批、测试发布流程、下线通知等. (2)**服务容量规划**：需要能够采集服务调用性能、时延、成功率、系统资源占用等综合性能指标，分析并识别服务容量瓶颈，合理分配服务容量（计算、数据、网络等资源）. (3)**运行时治理**：流量陡增时的非核心业务SLA降级；缓存失效，数据I/O开销陡增导致业务失败，需要在线调大服务调用超时时间；非核心服务故障时，业务应放行并执行本地降级逻辑. (4)服务安全：身份验证与权限验证.

### 9. 非功能度量指标/性能指标包括什么

(1)CPU**速度**(MIPS Million Instructions Per Second) (2)**网络带宽**(Mbps Megabits per second) (3)**吞吐量**(MIPS、TFLOPS、TPS、QPS ):指系统在单位时间内处理请求的数量. (4)**RT响应时间**(s):指系统对请求作出响应的时间. (5)**网络延时**(s) (6)**并发用户数**:指系统可以同时承载的正常使用系统功能的用户的数量. (7)**TPS** (Transactions Per Second):客户机在发送请求时开始计时，收到服务器响应后结束计时，以此来计算使用的时间和完成的事务个数，包括了：1)用户请求服务器 2)服务器自己的内部处理 3)服务器返回给用户这三个过程，每秒能够完成N个这三个过程，TPS也就是N. (8)**QPS** (Queries Per Second):每秒能处理查询数目。是一台服务器每秒能够相应的查询次数，是对一个特定的查询服务器在规定时间内所处理流量多少的衡量标准。QPS基本类似于TPS，但是不同的是，对于一个页面的一次访问，形成一个TPS；但一次页面请求，可能产生多次对服务器的请求，服务器对这些请求，就可计入“QPS”之中.

### 10. 扩展性Scalability定义及分类

(1)**定义**:适应不断增长的处理任务的能力. (2)**分类**: (a)垂直扩展：提高硬件配置. (b)水平扩展：增加新的计算机分布式计算.

### 11. 高可用性的定义

系统在几乎任何时刻都可被正常，访问通常量化为一年中正常运行的时间比.

### 12. 系统可用性如何计算

(1)**系统可用性**=MTTF/(MTTF+MTTR). (2)**平均故障间隔时间**MTBF=MTTF+MTTR. (3)**平均故障时间**MTTF. (4)**平均修复时间**MTTR.