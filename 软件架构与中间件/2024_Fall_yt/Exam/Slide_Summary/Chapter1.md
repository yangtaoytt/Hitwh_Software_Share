# Chapter1

### 1. 如何将设备组装起来形成完整的计算机硬件系统

1. 基本的**硬件模块**：控制器、运算器、内存储器、外存储器、输入设备、输出设备、…
2. 硬件模块之间的**连接关系**：总线

### 2. 架构的共性

1. 一组基本的构成要素——构件
2. 这些要素之间的连接关系——连接件
3. 这些要素连接之后形成的拓扑结构——物理分布
4. 作用于这些要素或连接关系上的限制条件——约束
5. 质量——性能

### 3. 软件架构的构建和连接件

- **构件**：各种基本的软件构造模块(函数、对象、模式等)；

- **连接件**：将它们组合起来形成完整的软件系统；

### 4. 软件架构的定义

1. （**1994**）SA={components, connectors, constrains}
2. （**2000**）Architecture={component, connector,environment, principle}.架构是以构件、构件之间的关系、构件与环境之间的关系以及指导系统设计与演化的原理为内容的某一系统的基本组织结构
3. （**1992**）SA={elements, form, rational}软件架构是由一组具有一定形式的元素构成：这组元素分成3 类：处理元素 、数据元素和连接元素；处理元素负责对数据进行加工，数据元素是被加工的信息，连接元素把架构的不同部分组合连接起来。软件架构形式是由专有属性和关系组成。专有属性用于限制软件架构元素的选择。关系用于限制软件架构元素组合的拓扑结构。在多个架构方案中选择合适的架构方案往往基于一组准则
4. （**2010**）SA={elements, relations , properties}
5. （**归纳**）提供了一个结构、行为和属性的高级抽象从一个较高的层次来考虑组成系统的构件、构件之间的连接，以及由构件与构件交互形成的拓扑结构这些要素应该满足一定的限制，遵循一定的设计规则，能够在一定的环境下进行演化反映系统开发中具有重要影响的设计决策，便于各种人员的交流，反映多种关注，据此开发的系统能完成系统既定的功能和性能需求。架构 = 构件 + 连接件 + 拓扑结构 + 约束 + 质量

### 5. 程序规模和软件架构的关系

随着软件系统规模越来越大、越来越复杂用户需求(功能性)越来越复杂，变化越来越频繁；用户软件质量(非功能性)的要求也越来越高；如何将成百上千个功能组合起来，同时满足用户质量需求，变得越来越困难。此时，整个系统的全局结构和设计显得越来越重要。很多质量需求主要体现在架构中而不是功能模块内部的实现中。

**结论**：对于大规模的复杂软件系统来说，对系统全局结构的设计比起对算法的选择和数据结构的设计明显重要得多。 

### 6. 软件架构的关注点

1. 如何将复杂的软件系统划分为模块
2. 如何规范模块的构成
3. 如何将这些模块组织为完整的系统
4. 以及保证系统的质量要求

### 7. 软件架构的目标

- **主要目标**：建立一个一致的系统及其视图集，并表达为最终用户和软件设计者需要的结构形式，支持用户和设计者之间的交流与理解。
- **外向目标**：建立满足最终用户要求的系统需求；
- **内向目标**：建立满足系统设计者需要以及易于系统实现、维护和扩展的系统构件构成。

### 8. 软件架构的作用

1. 交流的手段：在软件设计者、最终用户之间方便的交流；
2. 可传递的、可复用的模型：可重复利用的、可转移的系统抽象(用到其它的项目)(提高大规模重复利用率)
3. 关键决策的体现（折中）（性能与安全性）（可维护性与可靠性）（当前开发费用和未来开发代价）

### 9. 软件架构的重要意义

1. SA是软件开发过程初期的产品，在开发的早期阶段就考虑系统的正确设计与方案选择，为以后开发、测试、维护各个阶段提供了保证；
2. 与其他后期的设计活动相比，SA设计的成本和代价要低得多；
3. 正确有效的SA设计会给软件开发带来极大的便利；
4. 在大型软件系统中，质量属性更多的是由系统结构和功能划分来实现的，而不再仅仅依靠所选择的算法或数据结构。

### 10. 软件架构在软件生命周期中的作用

1. **项目规划**:考虑项目的规模、复杂度、可行性等；
2. **需求分析**:利用SA，支持用户、项目负责人、系统架构师、程序员、测试人员之间进行交流和协商；从不同视角审查备选的SA，对得出的意见进行综合，找出合理的平衡方案；从用户角度考虑未来的需求会发生什么变化，并使SA能够提前支持这些变化；
3. **软件设计**:参考经典SA风格，设计系统架构模型，推敲其存在的缺陷和替代方案并进行评估；进而逐步细化SA，并对定型后的SA作文档化工作；
4. **软件实现**:各开发团队按照SA规定的“构件及其之间的相互关系”进行开发，保证最终得到的系统与最初的SA一致；
5. **测试与评审**:根据SA的约束条件，对软件的质量属性进行测试。
6. **维护与升级**:把SA文档作为维护和升级的重要依据。

### 11. 软件架构和其他软件设计活动的比较

1. **起点模糊**。在用户需求尚没有明确定义、用户对其所期望的系统功能、行为和性能尚未确定的情况下就要进行SA设计；——故而需要交流与反复；
2. **高抽象层次**。SA分析处理的是高层次的系统构件或子系统之间的关系，而非变量、函数等低层次的概念；
3. **分布决策**。来自用户、架构师、测试人员等多方面；
4. **贯穿全局**。SA设计活动在项目开始时进行，但其作用则贯穿整个项目周期，越往后越显出重要性。

### 12. 什么是架构师的关注点以及软件质量定义

**软件质量**：软件与明确的和隐含的需求相一致的程度

### 13. 质量和质量的关系

如果提高一个质量，经常会影响（提高或降低）其它质量

### 14. 软件质量因素及对策

1. **性能**：软件的“时间-空间”效率；集群、缓存、异步
2. **安全性**：在对合法用户提供服务的同时，阻止未授权用户的使用企图；防火墙、入侵检测、加密、单一入口
3. **易用性**：用户使用软件的容易程度，用户容易使用和学习；统一风格界面、定制
4. **重用性**：减少代码编写，提高团队开发效率，降低维护代价；构件、框架、软件产品线
5. **健壮性**/**可用性**：在异常情况下，软件能够正常运行的能力（容错、恢复）集群、灾备、故障转移
6. **可修改性**：软件适应“变化”的能力，系统很容易被修改从而适应新的需求或采用新的算法、数据结构的能力；稳定的功能分解、设计模式、分层、解耦
7. **可测试性**：软件是否易于被测试。一致的错误处理方式
8. **集成性**：让分别开发的组件在一起正确工作的能力；最小化接口复杂度、统一命名规范、遵循标准
9. **移植性**：是软件不经修改或稍加修改就可以运行于不同软硬件环境(CPU、OS和编译器)的能力；开发语言选择、分层、遵循标准
10. **兼容性**：不同产品相互交换信息的能力；API设计、遵循标准
11. **经济性**：开发成本、开发时间和对市场的适应能力。重用性、可修改性
12. **正确性**：软件按照需求正确执行任务的能力；
13. **完备性**：软件能够支持用户所需求的全部功能的能力；

### 16. 架构和质量的联系

架构的选择极大地影响部分软件质量，但不是全部。架构只为获得某个质量创造条件，但并不能保证肯定获得

### 17. 软件架构技术发展与演化

1. **第一种**：
   1. 系统 = 算法 + 数据结构 (1960’s )
   2. 系统 = 子程序 + 子程序 (1970’s )
   3. 系统 = 对象 + 对象 (1980’s )
   4. 系统 = 构件 + 连接件 (1990’s )
   5. 系统 = 服务 + 服务总线 (2000’s)
   6. 系统 = 服务集群 + 中间件 (now)
2. **第二种**：
   1. 系统规模与复杂度：简单到复杂
   2. 系统开放度：封闭到开放
   3. 模块粒度：细到粗
   4. 关注层面：模块到连接件
3. **第三种**：
   1. 单一服务器
   2. 应用服务和数据服务分离
   3. 缓存的使用
4. **第四种**:
   1. 集群与并发
   2. 读写分离
   3. CDN与反向代理
5. **第五种**
   1. 分布式数据库和文件系统
   2. nosql
   3. 垂直划分业务服务
   4. 分布式服务

### 18. 软件中间件的定义

**中间件**是一组程序，应用于分布式系统各应用之中，为系统屏蔽底层通讯和提供公共服务，并保障系统的高可靠性、高可用性、高灵活性。

### 19. 中间件的作用

1. 分布式应用借助中间件在不同技术之间共享资源。
2. 中间件位于客户机/ 服务器的操作系统之上，管理计算机资源和网络通讯。
3. 中间件是连接两个独立应用程序或独立系统的软件，即使它们具有不同的接口。
4. 通过中间件，应用程序可以工作于多平台或OS 环境中间件是一个通道，保障应用信息的可靠传递。
5. 中间件是一个桥梁，达成商务构件的互联互通。
6. 中间件是一个框架，促成企业应用的完整集成。
7. 中间件是一个平台，实现分布式应用的顺利部署。

### 20. 哪些软件是中间件

- 是的：
  1. .NET
  2. J2EE
  3. RPC
  4. SQL*NET
  5. HTTP
  6. CORBA
- 不是的：
  1. Mail System
  2. Lotus Notes
  3. WeChat

### 21. 如何鉴定中间件

1. 中间件是软件。
2. 中间件在应用软件和系统软件之间。
3. 中间件是一类软件而不是一种。
4. 中间件不是开发工具，通常包含开发，管理和部署。

### 22. 软件中间件的作用

1. **屏蔽异构性**：异构性表现在计算机的软硬件差异，包括硬件（CPU和指令集、硬件结构、驱动程序等），操作系统（不同OS的API和开发环境）、数据库（不同的存储和访问格式）等。长期以来，高级语言依赖于特定的编译器和OS API来编程，而他们是不兼容的。
2. **实现互操作**：因为异构性，产生的结果是软件依赖于计算环境，使得各种不同软件之间在不同平台之间不能移植，或者移植困难。而且，因为网络协议和通信机制不同，这些系统不能有效相互集成。
3. **共性凝练和复用**：软件应用领域越来越多，相同领域的应用系统之间许多基础功能和结构是有相似性的。通过中间件提供简单、一致、集成的开发和运行环境，简化分布式系统的设计、编程和管理。

### 23. 软件中间件的意义

1. 缩短开发周期
2. 节约应用程序开发成本
3. 降低运行成本
4. 降低故障率
5. 改善决策
6. 应用系统群集/集成
7. 减少软件维护
8. 提高质量
9. 改进技术
10. 提高产品吸引力

### 24. 软件中间件的分类

1. **应用服务类中间件**：为应用系统提供一个综合的计算环境和支撑平台，包括对象请求代理（ORB）中间件、事务监控交易中间件、Java应用服务器中间件等。
2. **应用集成类中间件**：提供各种不同网络应用系统之间的消息通信、服务集成和数据集成的功能，包括常见的消息中间件、企业集成EAI、企业服务总线以及相配套的适配器。
3. **业务架构类中间件**：除了可以将底层共性技术的特征抽象到中间件，还可以将业务共性抽象至中间件，形成应用模式，如业务流程，业务模型，业务规则，交互应用等。
4. 数据访问，消息，分布式对象，交易，分布式构件（应用服务器、DCOM），工作流，应用集成，门户，其他

### 25. 软件架构设计的模型

1. **用例视图**：描述系统的典型场景与功能，主要图形包括use case diagram等。
2. **逻辑视图**：描述系统的抽象概念与功能(类、对象、接口、模式等)，主要图形包括class diagrams, Communication diagrams and sequence diagrams等；
3. **开发视图**：描述系统中的子系统、模块、文件、资源及其之间的关系，主要图形包括component diagrams, package diagrams等；
4. **进程视图**：描述系统的进程及其之间的通信协作关系，主要图形包括activity diagram, sequence diagram等；
5. **物理视图**：描述系统如何被安装、部署与配置在分布式的物理环境下，主要图形包括deployment diagram等。

### 26. Kruchten4+1视图模型的地位

1. 4+1视图模型是一种已经被标准化(UML, RUP)的方法，用来描述和文档化软件系统的体系结构。
2. 每个视图从不同的角度刻画了系统的结构属性，将它们综合在一起就形成了系统的整体架构。逻辑视图和开发视图描述系统的静态结构，而进程视图和物理视图描述系统的动态结构。对于不同类型的软件系统来说，侧重的角度也有所不同。